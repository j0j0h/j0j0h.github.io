<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta charset="utf-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="gridTest.css">
</head>
<body>
<div class="container">
  <div class="item item1"><span id="yeet"></span><br><span id="wind"></span></div>
  <div class="item item2"><br><button>Get weather data</button><input type="text" id="cityName" value="Type your city here"></div>
  <div class="item item3"><span id="astronomy"></span></div>
  <div class="item item4"><span id="forecast0"></span><br><span id="forecast1"></span><br><span id="forecast2"></span><br><span id="forecast3"></span><br><span id="forecast4"></span></div>
  <div class="item item5"><span id="temp"></span></div>
  
</div>
<script>




$(document).ready(function(){
	$("button").click(function(){
	var city = $("#cityName").val();
  //var city = document.getElementById("cityName").value;
  
  var searchtext = "select * from weather.forecast where woeid in (select woeid from geo.places(1) where text='" + city + "') and u='c'"
  //change city variable dynamically as required
  $.getJSON("https://query.yahooapis.com/v1/public/yql?q=" + searchtext + "&format=json").then(function(data){
   console.log(data);
   $('#temp').html(data.query.results.channel.item.condition.temp + "°C" + "<br>" + data.query.results.channel.item.condition.text);
   $("#yeet").html(data.query.results.channel.location.city + ", " + data.query.results.channel.location.country);
	$("#wind").html(data.query.results.channel.wind.speed / 3.6 + " m/s, " + data.query.results.channel.wind.direction + " degrees");
	$("#astronomy").html("Sunrise: " + data.query.results.channel.astronomy.sunrise + "<br> Sunset:" + data.query.results.channel.astronomy.sunset);
	for (i=0; i<5; i++){
		$("#forecast"+i).html(data.query.results.channel.item.forecast[i].day + "<br>" + "Hi: " + data.query.results.channel.item.forecast[i].high + "°C  " + "Lo: " + data.query.results.channel.item.forecast[i].low + "°C " + data.query.results.channel.item.forecast[i].text);
	}
	//$("#forecast1").html(data.query.results.channel.item.forecast[1].day + "<br>" + "Hi: " + data.query.results.channel.item.forecast[1].high + "°C  " + "Lo: " + data.query.results.channel.item.forecast[0].low + "°C " + data.query.results.channel.item.forecast[1].text);
  });
});
});


</script>


</div>
</body>
</html>
